package generator;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

public class SaveAndReadFiles {
	
	public void saveOutput(String[] outputSet) {
		PrintWriter pw = null;
		try {
			pw = new PrintWriter(new File("output.csv"));
		} catch (FileNotFoundException e1) {
			e1.printStackTrace();
		}
		
        StringBuilder sb = new StringBuilder();
        sb.append("id");
        sb.append(',');
        sb.append("Name");
        sb.append('\n');

        sb.append("1");
        sb.append(',');
        sb.append("Prashant Ghimire");
        sb.append('\n');

        pw.write(sb.toString());
        pw.close();
        
		String fileName = "output.txt";

        try {
            FileWriter fw = new FileWriter(fileName, true);
            BufferedWriter output = new BufferedWriter(fw);
            int size = outputSet.length;
            
            for (int i = 0; i < size; i++) {
            	output.append(outputSet[i]+"");
            	output.newLine();
            }
            
        	output.newLine();
            output.flush();  
            output.close();  
        } catch(Exception e) {
        	System.out.println("erro"); 
            System.out.println(e.getMessage());                
        }
    
	}
	
	public void saveFile(double[] dataSet) {
		String fileName = "temp.txt";

        try {
            FileWriter fw = new FileWriter(fileName);
            BufferedWriter output = new BufferedWriter(fw);
            int size = dataSet.length;
            
            for (int i = 0; i < size; i++) {
            	output.write(dataSet[i]+"");
            	output.newLine();
            }
            
            output.flush();  
            output.close();  
        } catch(Exception e) {
        	System.out.println("erro"); 
            System.out.println(e.getMessage());                
        }
    
	}
	
	
	@SuppressWarnings("resource")
	public double[] readFile(double[] dataSet)  {
		double[] auxSeries = new double[dataSet.length];
		String fileName = "temp.txt";
		String line;
		
		try {
			BufferedReader reader = new BufferedReader(new FileReader(fileName));
        
			if (!reader.ready()) {
				throw new IOException();
			}
			
			int i = 0;
			
			while ((line = reader.readLine())  != null) {
				auxSeries[i++] = Double.parseDouble(line);
			}

			reader.close(); 
		 } catch(Exception e) {
	        System.out.println("erro"); 
	        System.out.println(e.getMessage());                
		 }
		
		return auxSeries;
	            
	}
}
